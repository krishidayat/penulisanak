<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Klub Penulis Cilik | Belajar & Berbagi Cerita</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts for a friendly look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Apply the friendly font to the whole page */
        body {
            font-family: 'Poppins', sans-serif;
        }
        /* Custom scrollbar for a softer look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
            background: #60a5fa;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #3b82f6;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- Main Container -->
    <div class="container mx-auto p-4 md:p-8 max-w-5xl">

        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-blue-600">✏️ Klub Penulis Cilik</h1>
            <p class="text-slate-500 mt-2">Tempatmu belajar, menulis, dan berbagi cerita seru!</p>
        </header>

        <!-- Navigation -->
        <nav class="bg-white p-2 rounded-xl shadow-md mb-8 sticky top-4 z-10 flex justify-center space-x-2 md:space-x-4">
            <button data-target="home" class="nav-btn px-4 py-2 rounded-lg font-semibold text-blue-600 bg-blue-100 transition-all duration-300">Beranda</button>
            <button data-target="belajar" class="nav-btn px-4 py-2 rounded-lg font-semibold text-slate-600 hover:bg-blue-50 transition-all duration-300">Belajar</button>
            <button data-target="menulis" class="nav-btn px-4 py-2 rounded-lg font-semibold text-slate-600 hover:bg-blue-50 transition-all duration-300">Menulis</button>
            <button data-target="galeri" class="nav-btn px-4 py-2 rounded-lg font-semibold text-slate-600 hover:bg-blue-50 transition-all duration-300">Galeri</button>
        </nav>

        <!-- Content Sections -->
        <main id="content-container">

            <!-- Section: Home -->
            <section id="home" class="content-section text-center">
                <div class="bg-white p-8 rounded-xl shadow-lg">
                    <img src="https://placehold.co/600x300/60a5fa/ffffff?text=Selamat+Datang!" alt="Ilustrasi anak-anak membaca buku" class="w-full max-w-md mx-auto rounded-lg mb-6">
                    <h2 class="text-3xl font-bold mb-4">Hai, Penulis Hebat!</h2>
                    <p class="text-slate-600 mb-6 max-w-2xl mx-auto">Di sini, kamu bisa menemukan ide-ide baru, belajar trik menulis yang asyik, dan membagikan ceritamu kepada teman-teman di seluruh Indonesia. Jangan takut untuk memulai, ya!</p>
                    <button id="mulaiMenulisBtn" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-blue-700 transition-transform transform hover:scale-105 duration-300">
                        Mulai Tulis Ceritamu Sekarang!
                    </button>
                </div>
            </section>

            <!-- Section: Belajar Menulis -->
            <section id="belajar" class="content-section hidden">
                 <h2 class="text-3xl font-bold mb-6 text-center">Tips Seru Menulis Cerita</h2>
                 <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Card 1: Ide Cerita -->
                    <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300">
                        <h3 class="text-2xl font-bold text-teal-600 mb-3">💡 1. Temukan Ide</h3>
                        <p class="text-slate-600">Ide bisa datang dari mana saja! Dari mimpimu semalam, hewan peliharaanmu, atau bahkan dari mainan kesukaanmu. Coba lihat sekelilingmu, apa yang menarik?</p>
                    </div>
                    <!-- Card 2: Tokoh -->
                    <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300">
                        <h3 class="text-2xl font-bold text-amber-600 mb-3">🦸 2. Ciptakan Tokoh</h3>
                        <p class="text-slate-600">Siapa pahlawan dalam ceritamu? Apakah dia seorang putri pemberani, robot baik hati, atau kucing yang bisa bicara? Beri dia nama dan sifat yang unik!</p>
                    </div>
                    <!-- Card 3: Latar -->
                    <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300">
                        <h3 class="text-2xl font-bold text-sky-600 mb-3">🏰 3. Tentukan Latar</h3>
                        <p class="text-slate-600">Di mana ceritamu terjadi? Di sebuah kerajaan awan, di dalam hutan ajaib, atau di sekolahmu? Gambarkan tempat itu sejelas mungkin agar pembaca bisa membayangkannya.</p>
                    </div>
                    <!-- Card 4: Alur -->
                    <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300">
                        <h3 class="text-2xl font-bold text-rose-600 mb-3">🎢 4. Buat Alur Cerita</h3>
                        <p class="text-slate-600">Setiap cerita punya awal, tengah, dan akhir. Apa masalah yang dihadapi tokohmu? Bagaimana dia menyelesaikannya? Buat petualangannya jadi seru dan menegangkan!</p>
                    </div>
                 </div>
            </section>

            <!-- Section: Mulai Menulis -->
            <section id="menulis" class="content-section hidden">
                <div class="bg-white p-8 rounded-xl shadow-lg max-w-3xl mx-auto">
                    <h2 class="text-3xl font-bold mb-6 text-center">Tulis Karyamu di Sini!</h2>
                    <form id="formCerita">
                        <div class="mb-4">
                            <label for="judulCerita" class="block text-lg font-semibold mb-2 text-slate-700">Judul Cerita</label>
                            <input type="text" id="judulCerita" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Contoh: Petualangan Kucing Terbang" required>
                        </div>
                        <div class="mb-6">
                            <label for="isiCerita" class="block text-lg font-semibold mb-2 text-slate-700">Isi Cerita</label>
                            <textarea id="isiCerita" rows="10" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Pada suatu hari, di sebuah negeri yang..." required></textarea>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-blue-700 transition-transform transform hover:scale-105 duration-300">
                                Simpan & Bagikan Cerita
                            </button>
                        </div>
                    </form>
                    <p id="pesanSukses" class="text-green-600 font-semibold text-center mt-4 hidden">Hore! Ceritamu berhasil disimpan dan dibagikan di Galeri!</p>
                </div>
            </section>

            <!-- Section: Galeri Cerita -->
            <section id="galeri" class="content-section hidden">
                <h2 class="text-3xl font-bold mb-6 text-center">Karya Hebat Teman-Teman</h2>
                <div id="kumpulanCerita" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Stories will be dynamically inserted here -->
                    <p id="pesanKosong" class="text-slate-500 text-center col-span-full">Belum ada cerita nih. Jadilah yang pertama untuk berbagi!</p>
                </div>
            </section>

        </main>

        <!-- Footer -->
        <footer class="text-center mt-12 text-slate-400">
            <p>&copy; 2024 Klub Penulis Cilik. Dibuat dengan penuh semangat!</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navButtons = document.querySelectorAll('.nav-btn');
            const contentSections = document.querySelectorAll('.content-section');
            const mulaiMenulisBtn = document.getElementById('mulaiMenulisBtn');
            const formCerita = document.getElementById('formCerita');
            const judulInput = document.getElementById('judulCerita');
            const isiInput = document.getElementById('isiCerita');
            const kumpulanCeritaContainer = document.getElementById('kumpulanCerita');
            const pesanSukses = document.getElementById('pesanSukses');
            const pesanKosong = document.getElementById('pesanKosong');

            // --- Navigation Logic ---
            function showSection(targetId) {
                contentSections.forEach(section => {
                    section.classList.add('hidden');
                });
                document.getElementById(targetId).classList.remove('hidden');

                navButtons.forEach(btn => {
                    if (btn.dataset.target === targetId) {
                        btn.classList.add('bg-blue-100', 'text-blue-600');
                        btn.classList.remove('text-slate-600', 'hover:bg-blue-50');
                    } else {
                        btn.classList.remove('bg-blue-100', 'text-blue-600');
                        btn.classList.add('text-slate-600', 'hover:bg-blue-50');
                    }
                });
            }

            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    showSection(button.dataset.target);
                });
            });

            mulaiMenulisBtn.addEventListener('click', () => {
                showSection('menulis');
            });

            // --- Story Saving and Loading Logic ---
            const getStories = () => {
                const stories = localStorage.getItem('ceritaAnak');
                return stories ? JSON.parse(stories) : [];
            };

            const saveStories = (stories) => {
                localStorage.setItem('ceritaAnak', JSON.stringify(stories));
            };

            const renderStories = () => {
                const stories = getStories();
                kumpulanCeritaContainer.innerHTML = ''; // Clear existing stories

                if (stories.length === 0) {
                    kumpulanCeritaContainer.innerHTML = `<p id="pesanKosong" class="text-slate-500 text-center col-span-full">Belum ada cerita nih. Jadilah yang pertama untuk berbagi!</p>`;
                } else {
                    stories.forEach(story => {
                        const storyCard = document.createElement('div');
                        storyCard.className = 'bg-white p-6 rounded-xl shadow-lg flex flex-col';
                        storyCard.innerHTML = `
                            <h3 class="text-xl font-bold mb-2 text-blue-600">${escapeHTML(story.title)}</h3>
                            <p class="text-slate-600 flex-grow">${escapeHTML(story.content.substring(0, 150))}${story.content.length > 150 ? '...' : ''}</p>
                            <span class="text-sm text-slate-400 mt-4">Oleh: Penulis Cilik</span>
                        `;
                        kumpulanCeritaContainer.appendChild(storyCard);
                    });
                }
            };

            // Helper to prevent XSS
            function escapeHTML(str) {
                return str.replace(/[&<>'"]/g, 
                    tag => ({
                        '&': '&amp;',
                        '<': '&lt;',
                        '>': '&gt;',
                        "'": '&#39;',
                        '"': '&quot;'
                    }[tag] || tag)
                );
            }

            formCerita.addEventListener('submit', (e) => {
                e.preventDefault();
                const judul = judulInput.value.trim();
                const isi = isiInput.value.trim();

                if (judul && isi) {
                    const stories = getStories();
                    const newStory = {
                        id: Date.now(),
                        title: judul,
                        content: isi
                    };
                    stories.unshift(newStory); // Add new story to the beginning
                    saveStories(stories);

                    // Clear form and show success message
                    formCerita.reset();
                    pesanSukses.classList.remove('hidden');
                    setTimeout(() => {
                        pesanSukses.classList.add('hidden');
                    }, 3000);

                    // Re-render stories and switch to gallery
                    renderStories();
                    showSection('galeri');
                }
            });

            // --- Initial Load ---
            renderStories();
            showSection('home');
        });
    </script>
</body>
</html>
